<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="./index.css">
    <link rel="stylesheet" href="./src/mr.css">
    <title>Mushroom UI</title>
</head>

<body>
    <div class="loading"></div>
    <div class="container">
        <header>
            <span class="title">Mr UI</span>
            <span class="logo"><svg width="30" height="30" xmlns="http://www.w3.org/2000/svg">
                <!-- Created with Method Draw - http://github.com/duopixel/Method-Draw/ -->
                <g>
                 <title>Layer 1</title>
                 <path id="svg_3" d="m4.9688,12.28126" opacity="0.5" stroke-width="1.5" stroke="#e85b74" fill="#fff"/>
                 <path stroke="#e85b74" id="svg_6" d="m8.04142,11.78125l-0.04143,10.28265l1.73906,1.49319l1.9875,0.06787l2.07031,0l0.6625,-1.35745l0.16562,-0.61085l-0.16562,-9.57001" fill-opacity="null" stroke-opacity="null" stroke-width="1.5" fill="#fff"/>
                 <path id="svg_4" d="m1.96882,10.71877l1.03116,-2.46882l1.1875,-1.87498l1.68749,-1.125l1.24999,-0.87499l2.99998,-0.6875l3.68748,-0.0625l1.4375,0l1.68749,0.625l1.68749,1.12499l0.62499,1.43749l0.5625,0.625l0.1875,0.99999l0.1875,0.75l-0.0625,1.62499l-0.875,0.1875l-2.12498,0.375c0.03133,0.03133 -1.46866,0.34383 -1.53116,0.34383c-0.0625,0 -2.31249,0.125 -2.37499,0.125c-0.0625,0 -4.06248,0.1875 -4.09381,0.15616c0.03133,0.03134 -3.21865,0.03134 -3.24998,0c0.03133,0.03134 -0.03117,0.46883 -2.62499,-0.56249c-0.90616,-0.40617 -1.65616,-0.78117 -0.78116,-0.78117" stroke-width="1.5" stroke="#e85b74" fill="#fff"/>
                 <path stroke="#e85b74" id="svg_7" d="m13.84923,11.53125l-0.03675,11.53068l1.54218,1.67442l1.7625,0.07612l1.83593,0l0.5875,-1.52221l0.14688,-0.68499l-0.14688,-10.73154" fill-opacity="null" stroke-opacity="null" stroke-width="1.5" fill="#fff"/>
                 <path stroke="#e85b74" id="svg_5" d="m10.03131,14.00718l0.77646,-1.96015l0.89419,-1.48867l1.27068,-0.89321l0.94124,-0.69471l2.25898,-0.54585l2.77667,-0.04962l1.08244,0l1.27068,0.49623l1.27068,0.8932l0.47062,1.14131l0.42356,0.49623l0.14119,0.79396l0.14119,0.59547l-0.04706,1.29018l-0.65887,0.14887l-1.60011,0.29774c0.02359,0.02487 -1.1059,0.27299 -1.15296,0.27299c-0.04706,0 -1.7413,0.09925 -1.78837,0.09925c-0.04706,0 -3.05905,0.14887 -3.08264,0.12399c0.02359,0.02488 -2.42364,0.02488 -2.44723,0c0.02359,0.02488 -0.02347,0.37223 -1.97662,-0.4466c-0.68234,-0.32248 -1.24709,-0.62022 -0.58821,-0.62022" stroke-width="1.5" fill="#fff"/>
                 <path id="svg_8" d="m11.78125,5.34375c0,0 2.8125,0.125 2.78125,0.09375c0.03125,0.03125 1.53125,0.84375 1.53125,0.84375c0,0 0.375,0.5 0.375,0.5" fill-opacity="null" stroke-opacity="null" stroke-width="1.5" stroke="#e85b74" fill="#fff"/>
                 <path id="svg_10" d="m16.71875,10.34375c0,0 2.8125,0.125 2.78125,0.09375c0.03125,0.03125 1.53125,0.84375 1.53125,0.84375c0,0 0.375,0.5 0.375,0.5" fill-opacity="null" stroke-opacity="null" stroke-width="1.5" stroke="#e85b74" fill="#fff"/>
                </g>
               </svg></span>
        </header>
        <div class="tab">
            <ul>
                <li key="1">Home</li>
                <li key="2">Document</li>
                <li key="3">Download</li>
                <li key="4">Blob</li>
            </ul>
            <div>
                    <div>Home</div>
                    <div>
                        <section class="left-container">
                            <ul>
                                <li key="1">
                                    <a href="example/index.html" class="active" target="example-iframe">Home</a>
                                </li>
                                <li key="2">
                                    <a href="example/message.html" target="example-iframe">Message</a>
                                </li>
                                <li key="3">
                                    <a href="example/draggable.html" target="example-iframe">Draggable</a>
                                </li>
                                <li key="4">
                                    <a href="example/menu.html" target="example-iframe">Menu</a>
                                </li>
                                <li key="5">
                                    <a href="example/tab.html" target="example-iframe">Tab</a>
                                </li>
                                <li key="6">
                                    <a href="example/button.html" target="example-iframe">Button</a>
                                </li>
                                <li key="7">
                                    <a href="example/carousel.html" target="example-iframe">Carousel</a>
                                </li>
                                <li key="8">
                                    <a href="example/loading.html" target="example-iframe">Loading</a>
                                </li>
                                <li key="9">
                                    <a href="example/icon.html" target="example-iframe">Icon</a>
                                </li>
                                <li key="10">
                                    <a href="example/datepicker.html" target="example-iframe">Date Picker</a>
                                </li>
                            </ul>
                        </section>
                        <section class="main-container">
                            <div class="iframe-loading"></div>
                            <iframe id="example-iframe" name="example-iframe" src="" frameborder="0"></iframe>
                        </section>
                    </div>
                    <div>Download</div>
                    <div>Blob</div>
            </div>
        </div>
    </div>

    <script type="module">
        import { Menu, Tab, Message, Loading} from './src/mr.js'; 
        let iframeLoading = document.querySelector('.iframe-loading');

        function init() {
            renderMenu();
            renderTab();
            renderLoading();
            renderIframe();
        }
        
        function renderMessage() {
            setTimeout(() => {
                new Message({
                    message: 'Welcome to Murhroom UI'
                })
            }, 4000)
        }

        function renderLoading() {
            let loading = document.querySelector('.loading');
            let loadingInstance = new Loading({
                container: loading,
                type: 'rect'
            })
            window.onload = function() {
                renderMessage();
                setTimeout(function() {
                    loadingInstance.destroy();
                }, 1000);
            }
        }

        function renderTab() {
            let tab = document.querySelector('.tab');
            new Tab({ container: tab });
        }

        function renderMenu() {
            let menu = document.querySelector('.left-container ul'); 
            new Menu({ container: menu });
        }

        function renderIframe() {
            let iframeLoadingInstance;
            let iframe = document.getElementById('example-iframe');
            iframeLoadingInstance = new Loading({
                container: iframeLoading,
                type: 'rect'
            })
            iframe.src = 'example/index.html';
            iframe.onload = function(){
                setTimeout(function () {
                    iframeLoadingInstance.destroy();
                }, 1000);
            };  

            let links = document.querySelectorAll('.left-container a');
            Array.prototype.slice.call(links).forEach(function(link, i) {
                link.onclick = function() {
                    iframeLoadingInstance = new Loading({
                        container: iframeLoading,
                        type: 'rect'
                    })
                    iframe.src = link.getAttribute('href');
                }
            })
        }

        init();
    </script>
</body>

</html>